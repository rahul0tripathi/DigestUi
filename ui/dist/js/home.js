"use strict";var _apis=[],_host=null;$(document).ready(function(){$(".sidenav").sidenav();$("#global_config_editor_id").val(JSON.stringify({headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlblBhcmFtcyI6eyJpZCI6IjAwMTA2ZDRlLWFmZjEtNGI3My04MWY2LWNmZTBhZDVhNWNjYSIsInBob25lIjo2Mjk0NDU4NTgzfSwiaWF0IjoxNTc4ODk1MTA3fQ.cS3oldXH1gnNRLlRLEvp1dZbmxCn_HbNWNq5ollus-w","Cache-Control":"no-cache","Digest-token":"<calculated>",Host:"<calculated>","User-Agent":"DigestJsRuntime/7.24.0",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive"}},null,"\t")),$("#global_config_editor_id").ace({theme:"solarized_dark",lang:"json",height:"300px",width:"auto"});var i={client_info:$(".client-info"),api_list:$(".api-list")};function c(n,t){if("GET"!=n&&"POST"!=n&&"DELETE"!=n&&"PUT"!=n)return"";var a,i,c=shortid(),e={id:c,method:n,route:t};_apis.push(e),i='\n          <div class="card-panel row test-apis" style="font-size:15px;margin:10px">\n          <div class=\'col s12 m2 method\'>'.concat((a=e).method,"</div>\n          <div class='col s12 m6  route' style=\"overflow-x:scroll; \">").concat(a.route,'</div>\n          <div class=\'col s12 m4\'><div class="switch" >\n          <label>\n            Off\n            <input id="testOn_').concat(a.id,'" type="checkbox" class="testOn" >\n            <span class="lever"></span>\n            On\n          </label>\n        </div></div>\n          </div>'),$(".test-api-list").append(i);var s=t.split("/");return s.forEach(function(n,t){":"==n[0]&&(s[t]="<input placeholder='".concat(n,"'  id=\"input_").concat(c,"_").concat(n,'" class="params" type="text" style="display:inline; width:60px; font-family: \'Open Sans\', sans-serif; font-size:15px">'))}),s=s.join("/"),'\n<div class="card-panel api-panel row api holder_'.concat(c,"\">\n<div class='col s12 m3'>").concat(n,"</div>\n<div class='col s12 m6 route'>").concat(s,'</div>\n<div class=\'col s12 m3 trigger_cont\'>\n<span class="material-icons trigger_btn" id="').concat(c,'">\nplay_arrow\n</span><span class="material-icons edit" style="margin-left:10px" id="edit>').concat(c,'">create</span></div>\n\n\n</div>\n\n\n')}var n=axios.create({baseURL:"http://".concat(window.location.hostname,":5432/api")});function t(a){n.get("/eaters").then(function(t){Object.keys(t.data).forEach(function(n){_host="http://".concat(t.data[n].host,":").concat(t.data[n].port),a&&i.client_info.prepend("\n           <p style='display:inline'> <span class='material-icons' style='color:#07c149; vertical-align:middle'>\n            fiber_manual_record \n            </span>\n    <a>".concat(n,"</a></p><p style='display:inline; margin-left:10px'>\n    <span class=\"material-icons\" style=' vertical-align:middle'>\n    dns \n    </span><a>  http://").concat(t.data[n].host,":").concat(t.data[n].port,"</a></p>\n            ")),t.data[n].routes.forEach(function(n){i.api_list.append(c(n.method,n.route))})})}).catch(function(n){return console.log(n)})}t(!0),$("#sync_apis").click(function(){M.toast({html:"Syncing Apis"}),$(".api-list").html(""),$(".test-api-list").html(""),t(!1)})});